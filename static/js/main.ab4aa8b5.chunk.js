(this["webpackJsonpreact-typescript-demo"]=this["webpackJsonpreact-typescript-demo"]||[]).push([[0],{25:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(18),d=a.n(o),s=(a(25),a(3)),r=a(8),i=a(5),l=a.n(i),u=a(19),h=a(20),p=a(0),j=function(e){var t=e.loading,a=e.todos,n=e.updateTodos,c=e.deleteTodos;return Object(p.jsx)("div",{className:"todo-elements","data-testid":"elements",children:t?"loading...":a.map((function(e,t){return Object(p.jsxs)("div",{className:"todo-element",children:[Object(p.jsx)("input",{defaultChecked:e.isDone,type:"checkbox",className:"checkbox",onChange:function(t){return n("isDone",t.target.checked,e)},"data-testid":"checkbox"}),Object(p.jsx)("span",{style:e.isDone?{textDecoration:"line-through",color:"lightgray"}:{},children:e.value},e._id),Object(p.jsx)("span",{className:"delete-todo","data-testid":"delete-".concat(t),onClick:function(){return c(e)},children:Object(p.jsx)(u.Icon,{path:h.a,size:"1.3rem"})})]},e._id)}))})},b=c.a.memo(j),f=function(e){var t=e.val,a=e.setVal,n=e.handleAdd;return Object(p.jsxs)("div",{className:"todo-input-section",children:[Object(p.jsx)("input",{className:"todo-input","data-testid":"input",value:t,placeholder:"please add the task here",onChange:function(e){return a(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&n()}}),Object(p.jsx)("button",{onClick:n,"data-testid":"add-btn",children:"Add"})]})},O=c.a.memo(f),m=a(6);function v(e,t){switch(t.type){case"add":return[].concat(Object(m.a)(e),[t.payload]);case"update":return Object(m.a)(e).map((function(e){var a=Object(s.a)({},e);return e._id===t.payload._id?(a.isDone=!e.isDone,a):a}));case"delete":return Object(m.a)(e.filter((function(e){return e._id!==t.payload._id})));default:return Object(m.a)(e)}}a(48);var y=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),d=Object(r.a)(o,2),i=d[0],u=d[1],h=Object(n.useReducer)(v,[]),j=Object(r.a)(h,2),f=j[0],m=j[1];Object(n.useEffect)((function(){u(!0),l.a.get("http://localhost:3005/get-todos").then((function(e){e.data.data.error||e.data.data.forEach((function(e){return m({type:"add",payload:e})})),u(!1)})).catch((function(e){console.error(e),u(!1)}))}),[]);return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("header",{className:"App-header",children:"Todos"}),Object(p.jsx)(O,{val:a,setVal:c,handleAdd:Object(n.useCallback)((function(){var e;""!==a&&(e={value:a,isDone:!1},l.a.post("http://localhost:3005/add-todos",Object(s.a)({},e)).then((function(e){var t=e.data.data,a=t.isDone,n=t.value,o=t._id;m({type:"add",payload:{isDone:a,value:n,_id:o}}),c("")})).catch((function(e){console.error(e)})))}),[a])}),Object(p.jsx)(b,{loading:i,todos:f,updateTodos:Object(n.useCallback)((function(e,t,a){var n=Object(s.a)({},a);n[e]=t,l.a.put("http://localhost:3005/update-todos",Object(s.a)({},n)).then((function(e){return m({type:"update",payload:n})})).catch((function(e){return console.error(e)}))}),[]),deleteTodos:Object(n.useCallback)((function(e){l.a.delete("http://localhost:3005/delete-todos",{data:{_id:e._id}}).then((function(t){return m({type:"delete",payload:e})})).catch((function(e){return console.error(e)}))}),[])})]})},x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,50)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,d=t.getTTFB;a(e),n(e),c(e),o(e),d(e)}))};d.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(y,{})}),document.getElementById("root")),x()}},[[49,1,2]]]);
//# sourceMappingURL=main.ab4aa8b5.chunk.js.map