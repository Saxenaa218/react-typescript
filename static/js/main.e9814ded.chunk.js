(this["webpackJsonpreact-typescript-demo"]=this["webpackJsonpreact-typescript-demo"]||[]).push([[0],{27:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),c=a(20),d=a.n(c),i=(a(27),a(4)),s=a(10),r=a(6),l=a.n(r),u=a(9),h=a(21),p=a(22),j=a(0),b=function(e){var t=e.loading,a=e.todos,n=e.updateTodos,o=e.deleteTodos;return Object(j.jsx)("div",{className:"todo-elements","data-testid":"elements",children:t?"loading...":a.map((function(e,t){return Object(j.jsxs)("div",{className:"todo-element",children:[Object(j.jsx)("input",{defaultChecked:e.isDone,type:"checkbox",className:"checkbox",onChange:function(t){return n("isDone",t.target.checked,e)},"data-testid":"checkbox"}),Object(j.jsx)("span",{style:e.isDone?{textDecoration:"line-through",color:"lightgray"}:{},children:e.value},e._id),Object(j.jsx)("span",{className:"delete-todo","data-testid":"delete-".concat(t),onClick:function(){return o(e)},children:Object(j.jsx)(h.Icon,{path:p.a,size:"1.3rem"})})]},e._id)}))})},f=o.a.memo(b),O=function(e){var t=e.val,a=e.setVal,n=e.handleAdd;return Object(j.jsxs)("div",{className:"todo-input-section",children:[Object(j.jsx)("input",{className:"todo-input","data-testid":"input",value:t,placeholder:"please add the task here",onChange:function(e){return a(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&n()}}),Object(j.jsx)("button",{onClick:n,"data-testid":"add-btn",children:"Add"})]})},v=o.a.memo(O),y=a(7);a(49);u.a.initialize("G-WC8WFED07H",{testMode:!1}),u.a.pageview(window.location.pathname+window.location.search);var m=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),d=Object(s.a)(c,2),r=d[0],h=d[1],p=Object(n.useReducer)((function(e,t){return u.a.event({category:"usability",action:t.type,label:JSON.stringify(t)}),function(e,t){switch(t.type){case"add":return[].concat(Object(y.a)(e),[t.payload]);case"update":return Object(y.a)(e).map((function(e){var a=Object(i.a)({},e);return e._id===t.payload._id?(a.isDone=!e.isDone,a):a}));case"delete":return Object(y.a)(e.filter((function(e){return e._id!==t.payload._id})));default:return Object(y.a)(e)}}(e,t)}),[]),b=Object(s.a)(p,2),O=b[0],m=b[1];Object(n.useEffect)((function(){h(!0),l.a.get("http://localhost:3005/get-todos").then((function(e){e.data.data.error||e.data.data.forEach((function(e){return m({type:"add",payload:e})})),h(!1)})).catch((function(e){console.error(e),h(!1)}))}),[]);return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{className:"App-header",children:"Todos"}),Object(j.jsx)(v,{val:a,setVal:o,handleAdd:Object(n.useCallback)((function(){var e;""!==a&&(e={value:a,isDone:!1},l.a.post("http://localhost:3005/add-todos",Object(i.a)({},e)).then((function(e){var t=e.data.data,a=t.isDone,n=t.value,c=t._id;m({type:"add",payload:{isDone:a,value:n,_id:c}}),o("")})).catch((function(e){console.error(e)})))}),[a])}),Object(j.jsx)(f,{loading:r,todos:O,updateTodos:Object(n.useCallback)((function(e,t,a){var n=Object(i.a)({},a);n[e]=t,l.a.put("http://localhost:3005/update-todos",Object(i.a)({},n)).then((function(e){return m({type:"update",payload:n})})).catch((function(e){return console.error(e)}))}),[]),deleteTodos:Object(n.useCallback)((function(e){l.a.delete("http://localhost:3005/delete-todos",{data:{_id:e._id}}).then((function(t){return m({type:"delete",payload:e})})).catch((function(e){return console.error(e)}))}),[])})]})},g=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,51)).then((function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,c=t.getLCP,d=t.getTTFB;a(e),n(e),o(e),c(e),d(e)}))};d.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root")),g()}},[[50,1,2]]]);
//# sourceMappingURL=main.e9814ded.chunk.js.map